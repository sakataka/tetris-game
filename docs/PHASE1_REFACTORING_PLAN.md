# Phase 1 ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Ÿè¡Œè¨ˆç”»

## ğŸ“‹ è¨ˆç”»æ¦‚è¦

**ç›®æ¨™**: ç¾åœ¨ã®Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã€React Router 7ã‚‰ã—ã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«æœ€é©åŒ–ã—ã€å®‰å…¨ãªç§»è¡Œã®åŸºç›¤ã‚’æ§‹ç¯‰ã™ã‚‹

**æœŸé–“**: 1-2é€±é–“  
**ãƒªã‚¹ã‚¯**: ä½ï¼ˆæ—¢å­˜æ©Ÿèƒ½ã«å½±éŸ¿ãªã—ï¼‰  
**æˆæœç‰©**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ¸ˆã¿ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ + ç§»è¡Œæº–å‚™å®Œäº†

## ğŸ¯ Phase 1ã®å…·ä½“çš„ç›®æ¨™

### 1. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æº–å‚™
- **ãƒ—ãƒ­ãƒƒãƒ—ãƒ‰ãƒªãƒªãƒ³ã‚°è§£æ¶ˆ**: ã‚¹ãƒˆã‚¢ç›´æ¥å‚ç…§ãƒ‘ã‚¿ãƒ¼ãƒ³ã«çµ±ä¸€
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç‹¬ç«‹æ€§å‘ä¸Š**: ãƒšãƒ¼ã‚¸åˆ†å‰²ã«å‚™ãˆãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ
- **å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæŠ½å‡º**: å°†æ¥ã®å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæº–å‚™

### 2. ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°åŸºç›¤æ•´å‚™
- **ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¦ä»¶æ•´ç†**: ç¾åœ¨ã®ã‚¿ãƒ– â†’ å°†æ¥ã®ãƒšãƒ¼ã‚¸é·ç§»è¨­è¨ˆ
- **URLçŠ¶æ…‹ç®¡ç†æº–å‚™**: ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ´»ç”¨ã®æ¤œè¨
- **SEOæº–å‚™**: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®æ•´ç†

### 3. é–‹ç™ºç’°å¢ƒæœ€é©åŒ–
- **ä¾å­˜é–¢ä¿‚æ•´ç†**: ä¸è¦ãªä¾å­˜é–¢ä¿‚ã®ç‰¹å®šãƒ»å‰Šé™¤
- **TypeScriptè¨­å®šå¼·åŒ–**: React Router 7å¯¾å¿œã®å‹å®‰å…¨æ€§
- **ãƒ†ã‚¹ãƒˆæˆ¦ç•¥èª¿æ•´**: å°†æ¥ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ã‚¹ãƒˆã«å¯¾å¿œ

## ğŸ”§ å®Ÿè¡Œã‚¿ã‚¹ã‚¯è©³ç´°

### Task 1: ãƒ—ãƒ­ãƒƒãƒ—ãƒ‰ãƒªãƒªãƒ³ã‚°è§£æ¶ˆ (2-3æ—¥)

#### å¯¾è±¡ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
1. **GameInfo.tsx**
   - ã‚¿ãƒ–çŠ¶æ…‹ç®¡ç†ã‚’ã‚¹ãƒˆã‚¢åŒ–
   - å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸ã®ãƒ—ãƒ­ãƒƒãƒ—æ¸¡ã—ã‚’å‰Šé™¤

2. **SettingsTabContent.tsx**
   - ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ—ãƒ­ãƒƒãƒ—ã‚¹ã‚’audioStoreç›´æ¥å‚ç…§ã«å¤‰æ›´
   - è¨­å®šãƒ—ãƒ­ãƒƒãƒ—ã‚¹ã‚’settingsStoreç›´æ¥å‚ç…§ã«å¤‰æ›´

3. **GameTabContent.tsx**
   - ã‚²ãƒ¼ãƒ çŠ¶æ…‹ãƒ—ãƒ­ãƒƒãƒ—ã‚¹ã‚’gameStateStoreç›´æ¥å‚ç…§ã«å¤‰æ›´
   - çµ±è¨ˆãƒ—ãƒ­ãƒƒãƒ—ã‚¹ã‚’statisticsStoreç›´æ¥å‚ç…§ã«å¤‰æ›´

#### å®Ÿè£…ä¾‹
```typescript
// Before: ãƒ—ãƒ­ãƒƒãƒ—ãƒ‰ãƒªãƒªãƒ³ã‚°
interface SettingsTabContentProps {
  volume: number;
  isMuted: boolean;
  setVolume: (volume: number) => void;
  // ... å¤šæ•°ã®ãƒ—ãƒ­ãƒƒãƒ—ã‚¹
}

// After: ã‚¹ãƒˆã‚¢ç›´æ¥å‚ç…§
import { useAudioVolume, useAudioMuted } from '../store/audioStore';

export default function SettingsTabContent() {
  const volume = useAudioVolume();
  const isMuted = useAudioMuted();
  // ãƒ—ãƒ­ãƒƒãƒ—ã‚¹ä¸è¦
}
```

### Task 2: ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æŠ½è±¡åŒ– (1-2æ—¥)

#### æ–°è¦ä½œæˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```typescript
// src/components/layout/Navigation.tsx
interface NavigationItem {
  key: string;
  path: string;
  label: string;
  icon: string;
}

const navigationItems: NavigationItem[] = [
  { key: 'game', path: '/', label: 'game', icon: 'gamepad' },
  { key: 'statistics', path: '/statistics', label: 'statistics', icon: 'bar-chart' },
  { key: 'themes', path: '/themes', label: 'themes', icon: 'palette' },
  { key: 'settings', path: '/settings', label: 'settings', icon: 'settings' },
];

export default function Navigation() {
  const [activeTab, setActiveTab] = useTabNavigation();
  
  return (
    <nav className="cyber-nav">
      {navigationItems.map((item) => (
        <TabButton
          key={item.key}
          active={activeTab === item.key}
          onClick={() => setActiveTab(item.key)}
          icon={item.icon}
          label={t(item.label)}
        />
      ))}
    </nav>
  );
}
```

#### ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ç®¡ç†
```typescript
// src/store/navigationStore.ts
interface NavigationState {
  activeTab: string;
  setActiveTab: (tab: string) => void;
}

export const useNavigationStore = create<NavigationState>((set) => ({
  activeTab: 'game',
  setActiveTab: (tab) => set({ activeTab: tab }),
}));

export const useActiveTab = () => useNavigationStore(state => state.activeTab);
export const useSetActiveTab = () => useNavigationStore(state => state.setActiveTab);
```

### Task 3: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†æº–å‚™ (1æ—¥)

#### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æŠ½è±¡åŒ–
```typescript
// src/utils/metadata.ts
interface PageMetadata {
  title: string;
  description: string;
  keywords?: string[];
  ogImage?: string;
}

export const pageMetadata: Record<string, PageMetadata> = {
  game: {
    title: 'Cyberpunk Tetris Game',
    description: 'Production-ready cyberpunk-themed Tetris game with advanced features',
    keywords: ['tetris', 'game', 'cyberpunk', 'puzzle'],
  },
  statistics: {
    title: 'Statistics | Cyberpunk Tetris',
    description: 'View your Tetris game statistics, high scores, and performance metrics',
    keywords: ['statistics', 'high score', 'tetris', 'metrics'],
  },
  themes: {
    title: 'Themes | Cyberpunk Tetris',
    description: 'Customize your Tetris game appearance with cyberpunk themes',
    keywords: ['themes', 'customization', 'cyberpunk', 'colors'],
  },
  settings: {
    title: 'Settings | Cyberpunk Tetris',
    description: 'Configure your Tetris game settings and preferences',
    keywords: ['settings', 'configuration', 'audio', 'controls'],
  },
};
```

### Task 4: å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæº–å‚™ (1-2æ—¥)

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ
```typescript
// src/components/layout/MainLayout.tsx
interface MainLayoutProps {
  children: React.ReactNode;
  showNavigation?: boolean;
  className?: string;
}

export default function MainLayout({ 
  children, 
  showNavigation = true,
  className 
}: MainLayoutProps) {
  return (
    <div className={cn(
      "min-h-screen grid-background flex items-center justify-center relative overflow-hidden",
      className
    )}>
      {/* Background effects */}
      <BackgroundEffects />
      
      <div className="text-center relative z-10 px-4">
        {/* Header */}
        <GameHeader />
        
        {/* Navigation */}
        {showNavigation && <Navigation />}
        
        {/* Main content */}
        <main className="float-animation">
          {children}
        </main>
      </div>
    </div>
  );
}
```

#### èƒŒæ™¯ã‚¨ãƒ•ã‚§ã‚¯ãƒˆæŠ½å‡º
```typescript
// src/components/layout/BackgroundEffects.tsx
export default function BackgroundEffects() {
  return (
    <>
      <div className="absolute top-10 left-10 w-32 h-32 bg-cyan-400 rounded-full opacity-10 blur-3xl animate-pulse" />
      <div
        className="absolute bottom-10 right-10 w-40 h-40 bg-purple-400 rounded-full opacity-10 blur-3xl animate-pulse"
        style={{ animationDelay: '1s' }}
      />
      <div
        className="absolute top-1/2 left-1/4 w-20 h-20 bg-yellow-400 rounded-full opacity-10 blur-2xl animate-pulse"
        style={{ animationDelay: '2s' }}
      />
    </>
  );
}
```

### Task 5: TypeScriptè¨­å®šå¼·åŒ– (1æ—¥)

#### tsconfig.jsonæœ€é©åŒ–
```json
{
  "compilerOptions": {
    "target": "ES2024",
    "lib": ["ES2024", "DOM", "DOM.Iterable"],
    "allowJs": true,
    "skipLibCheck": true,
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "noFallthroughCasesInSwitch": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    
    // React Router 7 æº–å‚™
    "types": ["vite/client"],
    "paths": {
      "~/*": ["./src/*"],
      "@/*": ["./src/*"]
    },
    
    // å°†æ¥ã®React Router typeså¯¾å¿œ
    "rootDirs": [".", "./.react-router/types"]
  },
  "include": [
    "src/**/*.ts",
    "src/**/*.tsx",
    "src/**/*.js",
    "src/**/*.jsx"
  ],
  "exclude": ["node_modules"]
}
```

### Task 6: ä¾å­˜é–¢ä¿‚æœ€é©åŒ– (1æ—¥)

#### ä¸è¦ä¾å­˜é–¢ä¿‚ã®æ•´ç†
```json
// package.json è¦‹ç›´ã—å€™è£œ
{
  "dependencies": {
    // ä¿æŒ: React Routerç§»è¡Œå¾Œã‚‚å¿…è¦
    "zustand": "^5.0.5",
    "tailwind-merge": "^3.3.1",
    "clsx": "^2.1.1",
    "i18next": "^25.2.1",
    "react-i18next": "^15.5.3",
    
    // æ¤œè¨: React Routerç§»è¡Œæ™‚ã«ä»£æ›¿æ¤œè¨
    "next-themes": "^0.4.6", // â†’ ã‚«ã‚¹ã‚¿ãƒ å®Ÿè£…ï¼Ÿ
    
    // å‰Šé™¤å€™è£œ: Next.jså›ºæœ‰
    // "next": "15.3.3" (React Routerç§»è¡Œæ™‚)
  }
}
```

### Task 7: ãƒ†ã‚¹ãƒˆæˆ¦ç•¥èª¿æ•´ (1æ—¥)

#### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ã‚¹ãƒˆæº–å‚™
```typescript
// src/test/utils/testRouter.tsx
import { createMemoryRouter, RouterProvider } from 'react-router';
import { render } from '@testing-library/react';

export function renderWithRouter(
  component: React.ReactElement,
  initialEntry = '/'
) {
  const router = createMemoryRouter([
    {
      path: '/',
      element: component,
    },
  ], {
    initialEntries: [initialEntry],
  });

  return render(<RouterProvider router={router} />);
}
```

## ğŸ“Š é€²æ—ç®¡ç†ã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

### Week 1: åŸºç›¤ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- **Day 1-2**: Task 1 (ãƒ—ãƒ­ãƒƒãƒ—ãƒ‰ãƒªãƒªãƒ³ã‚°è§£æ¶ˆ)
- **Day 3-4**: Task 2 (ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æŠ½è±¡åŒ–)
- **Day 5**: Task 3 (ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æº–å‚™) + Task 5 (TypeScriptå¼·åŒ–)

### Week 2: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ•´ç†ã¨æœ€é©åŒ–
- **Day 1-2**: Task 4 (å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæº–å‚™)
- **Day 3**: Task 6 (ä¾å­˜é–¢ä¿‚æœ€é©åŒ–)
- **Day 4**: Task 7 (ãƒ†ã‚¹ãƒˆæˆ¦ç•¥èª¿æ•´)
- **Day 5**: çµ±åˆãƒ†ã‚¹ãƒˆãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

## âœ… æˆåŠŸæŒ‡æ¨™

### æ©Ÿèƒ½çš„æŒ‡æ¨™
- [ ] æ—¢å­˜ã®å…¨æ©Ÿèƒ½ãŒæ­£å¸¸å‹•ä½œ
- [ ] ãƒ—ãƒ­ãƒƒãƒ—ãƒ‰ãƒªãƒªãƒ³ã‚°ãŒ50%ä»¥ä¸Šå‰Šæ¸›
- [ ] ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ãŒã‚¹ãƒˆã‚¢ç®¡ç†
- [ ] å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Œæˆ

### æŠ€è¡“çš„æŒ‡æ¨™
- [ ] TypeScriptã‚¨ãƒ©ãƒ¼0ä»¶ç¶­æŒ
- [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç¶­æŒï¼ˆ289ãƒ†ã‚¹ãƒˆï¼‰
- [ ] Biome lint/format 100%åˆæ ¼
- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå¢—åŠ ãªã—

### å“è³ªæŒ‡æ¨™
- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ©Ÿèƒ½å®Œå…¨ä¿æŒ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¶­æŒï¼ˆ60fpsï¼‰
- [ ] i18næ©Ÿèƒ½æ­£å¸¸å‹•ä½œ
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ç¶™ç¶šå‹•ä½œ

## ğŸš€ Phase 2ã¸ã®æº–å‚™çŠ¶æ³

### Phase 1å®Œäº†å¾Œã®çŠ¶æ…‹
1. **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æº–å‚™å®Œäº†**
   - ã‚¹ãƒˆã‚¢ä¸­å¿ƒã®çŠ¶æ…‹ç®¡ç†
   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç‹¬ç«‹æ€§å‘ä¸Š
   - å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåŸºç›¤

2. **React Router 7ç§»è¡Œæº–å‚™**
   - ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æŠ½è±¡åŒ–æ¸ˆã¿
   - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†æº–å‚™æ¸ˆã¿
   - TypeScriptè¨­å®šæœ€é©åŒ–æ¸ˆã¿

3. **é–‹ç™ºç’°å¢ƒæ•´å‚™**
   - ä¾å­˜é–¢ä¿‚æœ€é©åŒ–æ¸ˆã¿
   - ãƒ†ã‚¹ãƒˆæˆ¦ç•¥èª¿æ•´æ¸ˆã¿
   - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™æ¸ˆã¿

### ç§»è¡Œãƒªã‚¹ã‚¯è©•ä¾¡
- **æŠ€è¡“ãƒªã‚¹ã‚¯**: ä½ï¼ˆæ®µéšçš„ç§»è¡Œï¼‰
- **æ©Ÿèƒ½ãƒªã‚¹ã‚¯**: æ¥µä½ï¼ˆæ—¢å­˜æ©Ÿèƒ½ä¿æŒï¼‰
- **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒªã‚¹ã‚¯**: ä½ï¼ˆ2é€±é–“ãƒãƒƒãƒ•ã‚¡ç¢ºä¿ï¼‰
- **å“è³ªãƒªã‚¹ã‚¯**: æ¥µä½ï¼ˆæ—¢å­˜ãƒ†ã‚¹ãƒˆç¶­æŒï¼‰

## ğŸ¯ æ¬¡æœŸPhase 2ã¸ã®ç§»è¡Œæº–å‚™

Phase 1å®Œäº†ã«ã‚ˆã‚Šã€ä»¥ä¸‹ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ï¼š

1. **React Router 7ç’°å¢ƒæ§‹ç¯‰**: ã‚¹ãƒ ãƒ¼ã‚ºãªæŠ€è¡“ç§»è¡Œ
2. **ãƒšãƒ¼ã‚¸åˆ†å‰²å®Ÿè£…**: æœ€å°é™ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå¤‰æ›´
3. **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½**: æ—¢å­˜ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®æ´»ç”¨
4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: Viteãƒ™ãƒ¼ã‚¹ã®é«˜é€Ÿé–‹ç™º

ã“ã®è©³ç´°è¨ˆç”»ã«ã‚ˆã‚Šã€ãƒªã‚¹ã‚¯ã‚’æœ€å°åŒ–ã—ãªãŒã‚‰ç¢ºå®Ÿã«React Router 7ç§»è¡Œã®åŸºç›¤ã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚
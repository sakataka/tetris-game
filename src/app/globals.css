@import 'tailwindcss';

:root {
  --background: #0a0a0f;
  --foreground: #ffffff;
  --accent-primary: #00ffff;
  --accent-secondary: #ff00ff;
  --accent-tertiary: #ffff00;

  /* サイバーパンクカラーパレット */
  --cyber-cyan: #00ffff;
  --cyber-purple: #ff00ff;
  --cyber-yellow: #ffff00;
  --cyber-green: #00ff00;
  --cyber-red: #ff0040;
  --cyber-blue: #0080ff;

  /* Legacy transparency variants - use @theme variants above */
  --cyber-cyan-10: var(--color-cyber-cyan-10);
  --cyber-cyan-20: var(--color-cyber-cyan-20);
  --cyber-cyan-30: var(--color-cyber-cyan-30);
  --cyber-cyan-60: var(--color-cyber-cyan-60);
  --cyber-purple-10: var(--color-cyber-purple-10);
  --cyber-purple-20: var(--color-cyber-purple-20);
  --cyber-purple-30: var(--color-cyber-purple-30);
  --cyber-yellow-10: var(--color-cyber-yellow-10);
  --cyber-yellow-20: var(--color-cyber-yellow-20);

  /* Legacy effect values - use @theme variants above */
  --neon-blur-sm: var(--blur-neon-sm);
  --neon-blur-md: var(--blur-neon-md);
  --neon-blur-lg: var(--blur-neon-lg);
  --neon-blur-xl: var(--blur-neon-xl);

  /* パーティクル設定 */
  --particle-gravity: 0.2;
  --particle-max-y: 500;
  --particle-life-max: 60;

  /* ホログラム背景 */
  --hologram-bg: linear-gradient(
    45deg,
    var(--cyber-cyan-10) 0%,
    var(--cyber-purple-10) 50%,
    var(--cyber-yellow-10) 100%
  );
  --hologram-border: 1px solid var(--cyber-cyan-30);
}

@theme inline {
  /* Base colors */
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* Cyberpunk color palette integration */
  --color-cyber-cyan: #00ffff;
  --color-cyber-purple: #ff00ff;
  --color-cyber-yellow: #ffff00;
  --color-cyber-green: #00ff00;
  --color-cyber-red: #ff0040;
  --color-cyber-blue: #0080ff;

  /* Define colors in Tailwind's color palette structure */
  --color-cyber: {
    cyan: #00ffff;
    purple: #ff00ff;
    yellow: #ffff00;
    green: #00ff00;
    red: #ff0040;
    blue: #0080ff;
  };

  /* Transparency variants using color-mix */
  --color-cyber-cyan-10: color-mix(in srgb, var(--color-cyber-cyan) 10%, transparent);
  --color-cyber-cyan-20: color-mix(in srgb, var(--color-cyber-cyan) 20%, transparent);
  --color-cyber-cyan-30: color-mix(in srgb, var(--color-cyber-cyan) 30%, transparent);
  --color-cyber-cyan-60: color-mix(in srgb, var(--color-cyber-cyan) 60%, transparent);
  --color-cyber-purple-10: color-mix(in srgb, var(--color-cyber-purple) 10%, transparent);
  --color-cyber-purple-20: color-mix(in srgb, var(--color-cyber-purple) 20%, transparent);
  --color-cyber-purple-30: color-mix(in srgb, var(--color-cyber-purple) 30%, transparent);
  --color-cyber-yellow-10: color-mix(in srgb, var(--color-cyber-yellow) 10%, transparent);
  --color-cyber-yellow-20: color-mix(in srgb, var(--color-cyber-yellow) 20%, transparent);

  /* Effect blur values */
  --blur-neon-sm: 4px;
  --blur-neon-md: 8px;
  --blur-neon-lg: 12px;
  --blur-neon-xl: 16px;

  /* Fonts */
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --font-cyber: 'Orbitron', 'Courier New', monospace;

  /* Spacing system */
  --spacing-ultra-tight: 0.125rem;
  --spacing-tight: 0.25rem;
  --spacing-compact: 0.5rem;

  /* Animation durations */
  --duration-fast: 0.1s;
  --duration-normal: 0.3s;
  --duration-slow: 0.5s;
}

body {
  background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%);
  color: var(--foreground);
  font-family: 'Orbitron', 'Courier New', monospace;
  min-height: 100vh;
  overflow-x: hidden;
}

/* ネオングロー効果 */
@keyframes neonGlow {
  0%,
  100% {
    filter: drop-shadow(0 0 8px var(--accent-primary)) drop-shadow(0 0 16px var(--accent-primary));
  }
  50% {
    filter: drop-shadow(0 0 12px var(--accent-primary)) drop-shadow(0 0 24px var(--accent-primary));
  }
}

/* パルス効果 */
@keyframes pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

/* グリッド背景 */
.grid-background {
  background-image:
    linear-gradient(var(--cyber-cyan-10) 1px, transparent 1px),
    linear-gradient(90deg, var(--cyber-cyan-10) 1px, transparent 1px);
  background-size: 50px 50px;
}

/* ホログラム効果 */
.hologram {
  background: var(--hologram-bg);
  backdrop-filter: blur(10px);
  border: var(--hologram-border);
}

/* ネオンボーダー */
.neon-border {
  border: 2px solid var(--cyber-cyan);
  box-shadow:
    0 0 var(--neon-blur-md) var(--cyber-cyan),
    inset 0 0 var(--neon-blur-md) var(--cyber-cyan-10);
}

/* ネオンボーダーのバリエーション */
.neon-border-purple {
  border: 2px solid var(--cyber-purple);
  box-shadow:
    0 0 var(--neon-blur-md) var(--cyber-purple),
    inset 0 0 var(--neon-blur-md) var(--cyber-purple-10);
}

.neon-border-yellow {
  border: 2px solid var(--cyber-yellow);
  box-shadow:
    0 0 var(--neon-blur-md) var(--cyber-yellow),
    inset 0 0 var(--neon-blur-md) var(--cyber-yellow-10);
}

/* ホログラム背景のバリエーション */
.hologram-cyan {
  background: linear-gradient(45deg, var(--cyber-cyan-10) 0%, transparent 50%, var(--cyber-purple-10) 100%);
  backdrop-filter: blur(10px);
  border: var(--hologram-border);
}

.hologram-purple {
  background: linear-gradient(45deg, var(--cyber-purple-10) 0%, transparent 50%, var(--cyber-cyan-10) 100%);
  backdrop-filter: blur(10px);
  border: 1px solid var(--cyber-purple-30);
}

.hologram-yellow {
  background: linear-gradient(45deg, var(--cyber-yellow-10) 0%, transparent 50%, var(--cyber-cyan-10) 100%);
  backdrop-filter: blur(10px);
  border: 1px solid var(--cyber-yellow-20);
}

/* 浮遊アニメーション */
@keyframes float {
  0%,
  100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

.float-animation {
  animation: float 3s ease-in-out infinite;
}

/* パーティクルアニメーション */
@keyframes particle-sparkle {
  0% {
    filter: brightness(1) saturate(1) hue-rotate(0deg);
    transform: scale(1) rotate(0deg);
  }
  50% {
    filter: brightness(1.8) saturate(1.8) hue-rotate(180deg);
    transform: scale(1.2) rotate(180deg);
  }
  100% {
    filter: brightness(1.5) saturate(1.5) hue-rotate(360deg);
    transform: scale(1) rotate(360deg);
  }
}

.particle-enhanced {
  animation: particle-sparkle 0.8s ease-in-out infinite;
}

/* Responsive text utilities */
.text-2xs {
  font-size: 0.625rem; /* 10px */
  line-height: 0.875rem; /* 14px */
}

/* Responsive grid for statistics */
.responsive-grid-stats {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0.5rem;
}

@media (min-width: 640px) {
  .responsive-grid-stats {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (min-width: 1024px) {
  .responsive-grid-stats {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* Compact text sizes for panels */
.text-compact-xs {
  font-size: 0.7rem;
  line-height: 0.95rem;
}

.text-compact-sm {
  font-size: 0.8rem;
  line-height: 1.1rem;
}

/* Ultra compact layout utilities */
.ultra-compact-layout {
  padding: 0.125rem 0.25rem; /* py-0.5 px-1 */
  margin: 0;
}

.ultra-compact-spacing {
  gap: 0.25rem; /* space-y-1 equivalent */
}

.ultra-compact-container {
  max-height: calc(100vh - 0.5rem);
  overflow: hidden;
}

/* Enhanced accessibility and reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  ::before,
  ::after {
    animation-delay: -1ms !important;
    animation-duration: 1ms !important;
    animation-iteration-count: 1 !important;
    background-attachment: initial !important;
    scroll-behavior: auto !important;
    transition-duration: 0s !important;
    transition-delay: 0s !important;
  }

  /* Disable particle animations for reduced motion */
  .particle-optimized,
  .particle-enhanced {
    animation: none !important;
    transform: none !important;
  }
}

.reduce-motion *,
.reduce-motion ::before,
.reduce-motion ::after {
  animation-delay: -1ms !important;
  animation-duration: 1ms !important;
  animation-iteration-count: 1 !important;
  background-attachment: initial !important;
  scroll-behavior: auto !important;
  transition-duration: 0s !important;
  transition-delay: 0s !important;
}

/* Performance optimizations */
@media (prefers-reduced-data: reduce) {
  .particle-optimized {
    box-shadow: none;
    background: var(--particle-color, var(--color-cyber-cyan));
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .hologram,
  .hologram-cyan,
  .hologram-purple,
  .hologram-yellow {
    border-width: 2px;
    backdrop-filter: none;
    background: color-mix(in srgb, currentColor 10%, transparent);
  }
}

/* テーマ用CSS変数 */
.theme-classic {
  --background: #f5f5f5;
  --foreground: #333333;
  --accent-primary: #0066cc;
  --accent-secondary: #cc6600;
  --accent-tertiary: #006600;
}

.theme-retro {
  --background: #2d1b69;
  --foreground: #ffffff;
  --accent-primary: #ff6b35;
  --accent-secondary: #f7931e;
  --accent-tertiary: #ffd23f;
}

.theme-minimal {
  --background: #ecf0f1;
  --foreground: #2c3e50;
  --accent-primary: #2c3e50;
  --accent-secondary: #34495e;
  --accent-tertiary: #7f8c8d;
}

.theme-neon {
  --background: #000000;
  --foreground: #ffffff;
  --accent-primary: #ff0080;
  --accent-secondary: #00ff80;
  --accent-tertiary: #8000ff;
}

/* Performance optimized particle styles with v4 features */
.particle-optimized {
  /* Hardware acceleration */
  will-change: transform, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
  contain: layout style paint;

  /* Modern gradient with CSS variables */
  background: radial-gradient(circle, var(--particle-color, var(--color-cyber-cyan)) 0%, transparent 70%);

  /* Enhanced shadow system using color-mix */
  box-shadow:
    0 0 calc(4px + var(--particle-scale, 1) * 2px) var(--particle-color, var(--color-cyber-cyan)),
    0 0 calc(8px + var(--particle-scale, 1) * 4px)
      color-mix(in srgb, var(--particle-color, var(--color-cyber-cyan)) 25%, transparent),
    0 0 calc(12px + var(--particle-scale, 1) * 6px)
      color-mix(in srgb, var(--particle-color, var(--color-cyber-cyan)) 12%, transparent);

  /* Optimized animation with GPU layers */
  animation: particle-float var(--duration-normal, 1s) ease-out infinite;
}

@keyframes particle-float {
  0%,
  100% {
    transform: scale(var(--particle-scale)) rotate(0deg) translateZ(0);
  }
  50% {
    transform: scale(calc(var(--particle-scale) * 1.1)) rotate(180deg) translateZ(0);
  }
}

/* レガシーパーティクルクラス（後方互換性） */
.particle-enhanced {
  will-change: transform, opacity;
}

/* =========================================
   レスポンシブデザインシステム強化
   ========================================= */

/* ゲームエフェクト用グラデーション */
.game-board-glow {
  background: linear-gradient(90deg, var(--cyber-cyan-10) 0%, var(--cyber-purple-10) 50%, var(--cyber-yellow-10) 100%);
}

.info-panel-glow {
  background: linear-gradient(270deg, var(--cyber-purple-10) 0%, var(--cyber-cyan-10) 50%, var(--cyber-yellow-10) 100%);
}

.connection-line-glow {
  background: linear-gradient(90deg, var(--cyber-cyan) 0%, var(--cyber-purple) 50%, var(--cyber-yellow) 100%);
}

/* Modern responsive typography utilities with CSS clamp */
.responsive-text-xs {
  font-size: clamp(0.75rem, 2vw, 0.875rem);
  line-height: 1.4;
}
.responsive-text-sm {
  font-size: clamp(0.875rem, 2.2vw, 1rem);
  line-height: 1.5;
}
.responsive-text-base {
  font-size: clamp(0.875rem, 2.5vw, 1.125rem);
  line-height: 1.6;
}
.responsive-text-lg {
  font-size: clamp(1rem, 3vw, 1.25rem);
  line-height: 1.6;
}
.responsive-text-xl {
  font-size: clamp(1.125rem, 3.5vw, 1.5rem);
  line-height: 1.7;
}

/* Modern responsive spacing with logical properties */
.responsive-spacing-xs {
  padding-inline: clamp(0.25rem, 1vw, 0.5rem);
  padding-block: clamp(0.25rem, 1vh, 0.5rem);
}
.responsive-spacing-sm {
  padding-inline: clamp(0.5rem, 1.5vw, 0.75rem);
  padding-block: clamp(0.5rem, 1.5vh, 0.75rem);
}
.responsive-spacing-md {
  padding-inline: clamp(0.75rem, 2vw, 1.5rem);
  padding-block: clamp(0.75rem, 2vh, 1.5rem);
}
.responsive-spacing-lg {
  padding-inline: clamp(1rem, 3vw, 2rem);
  padding-block: clamp(1rem, 3vh, 2rem);
}

/* レスポンシブグリッドシステム */
.responsive-grid-stats {
  @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4;
}

.responsive-grid-dashboard {
  @apply grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 md:gap-4 lg:gap-6;
}

/* タッチターゲット最適化 */
.touch-target {
  min-width: 44px;
  min-height: 44px;
  touch-action: manipulation;
  user-select: none;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
}

/* レスポンシブエフェクトブラー */
.responsive-blur-effect {
  @apply blur-sm md:blur-md lg:blur-lg;
}

/* Modern viewport units and container queries */
.ultra-compact-container {
  /* Use small viewport units for better mobile support */
  max-height: 100svh;
  min-height: 100dvh;
  overflow: hidden;
  container-type: inline-size;
}

.mobile-optimized {
  font-size: clamp(0.75rem, 2.5cqw, 0.875rem);
  line-height: 1.3;
  letter-spacing: 0.01em;
}

.mobile-touch-zone {
  /* Enhanced touch targets with modern spacing */
  padding-inline: max(12px, 1cqw);
  padding-block: max(12px, 1cqh);
  margin: max(4px, 0.5cqw);
  touch-action: manipulation;
}

/* Container query based responsive design */
@container (min-width: 768px) {
  .tablet-optimized {
    font-size: clamp(0.875rem, 1.8cqw, 1rem);
    line-height: 1.4;
  }
}

/* Accessibility and reduced motion improvements */
@media (prefers-reduced-motion: no-preference) {
  .enhanced-animations {
    animation-timeline: view();
    animation-range: entry 0% cover 30%;
  }
}
